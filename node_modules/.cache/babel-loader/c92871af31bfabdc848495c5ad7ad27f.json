{"ast":null,"code":"import _slicedToArray from \"/Users/lairdkruger/Documents/Web Development/React Experiments/r3f-scroll-rig/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lairdkruger/Documents/Web Development/React Experiments/r3f-scroll-rig/src/index.js\";\nimport { render } from 'react-dom';\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Canvas, useThree } from 'react-three-fiber';\nimport { HTML } from 'drei';\nimport { Block } from './blocks';\nimport { Shapes } from './components/Shapes';\nimport Box from './components/shapes/Box';\nimport state from './store';\nimport './styles.css';\n\nfunction HtmlContent({\n  className,\n  style,\n  children,\n  portal\n}) {\n  const _useThree = useThree(),\n        size = _useThree.size;\n\n  return /*#__PURE__*/React.createElement(HTML, {\n    portal: portal,\n    style: {\n      position: 'absolute',\n      top: -size.height / 2,\n      left: -size.width / 2,\n      width: size.width,\n      height: size.height\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, children));\n}\n\nfunction App() {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        events = _useState2[0],\n        setEvents = _useState2[1];\n\n  const domContent = useRef();\n  const scrollArea = useRef();\n\n  const onScroll = e => state.top.current = e.target.scrollTop;\n\n  useEffect(() => void onScroll({\n    target: scrollArea.current\n  }), []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Canvas, {\n    colorManagement: true,\n    gl: {\n      alpha: false,\n      antialias: true\n    },\n    camera: {\n      position: [0, 0, 4.5],\n      fov: 50,\n      near: 0.1,\n      far: 100\n    },\n    onCreated: ({\n      gl,\n      events\n    }) => {\n      gl.setClearColor('white');\n      gl.toneMappingExposure = 2.5;\n      gl.toneMappingWhitePoint = 1; // Export canvas events, we will put them onto the scroll area\n\n      setEvents(events);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Block, {\n    factor: 1.5,\n    offset: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Shapes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(HtmlContent, {\n    portal: domContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu left\",\n    style: {\n      top: '2.55rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      fontSize: '2em',\n      top: '4rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, \"buerli.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, \"Sign up\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jumbo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"browser\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), \"based\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), \"modeling.\")))), /*#__PURE__*/React.createElement(Block, {\n    factor: 1.5,\n    offset: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(HTML, {\n    center: true,\n    portal: domContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"section 1\"))), /*#__PURE__*/React.createElement(Block, {\n    factor: 1.5,\n    offset: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(HTML, {\n    center: true,\n    portal: domContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"section 2\"))), /*#__PURE__*/React.createElement(Block, {\n    factor: -2,\n    offset: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    scale: [2, 2, 2],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(HTML, {\n    center: true,\n    portal: domContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"section 3\")))), /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: \"scrollArea\",\n    ref: scrollArea,\n    onScroll: onScroll\n  }, events, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'sticky',\n      top: 0\n    },\n    ref: domContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"\".concat(state.pages * 100, \"vh\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  })));\n}\n\nrender( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 8\n  }\n}), document.querySelector('#root'));","map":{"version":3,"sources":["/Users/lairdkruger/Documents/Web Development/React Experiments/r3f-scroll-rig/src/index.js"],"names":["render","React","useState","useEffect","useRef","Canvas","useThree","HTML","Block","Shapes","Box","state","HtmlContent","className","style","children","portal","size","position","top","height","left","width","App","events","setEvents","domContent","scrollArea","onScroll","e","current","target","scrollTop","alpha","antialias","fov","near","far","gl","setClearColor","toneMappingExposure","toneMappingWhitePoint","fontSize","pages","document","querySelector"],"mappings":"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","sourcesContent":["import { render } from 'react-dom'\nimport React, { useState, useEffect, useRef } from 'react'\nimport { Canvas, useThree } from 'react-three-fiber'\nimport { HTML } from 'drei'\nimport { Block } from './blocks'\n\nimport { Shapes } from './components/Shapes'\nimport Box from './components/shapes/Box'\nimport state from './store'\nimport './styles.css'\n\nfunction HtmlContent({ className, style, children, portal }) {\n  const { size } = useThree()\n  return (\n    <HTML\n      portal={portal}\n      style={{\n        position: 'absolute',\n        top: -size.height / 2,\n        left: -size.width / 2,\n        width: size.width,\n        height: size.height\n      }}>\n      <div className={className} style={style}>\n        {children}\n      </div>\n    </HTML>\n  )\n}\n\nfunction App() {\n  const [events, setEvents] = useState()\n  const domContent = useRef()\n  const scrollArea = useRef()\n  const onScroll = (e) => (state.top.current = e.target.scrollTop)\n  useEffect(() => void onScroll({ target: scrollArea.current }), [])\n  return (\n    <>\n      <Canvas\n        colorManagement\n        gl={{ alpha: false, antialias: true }}\n        camera={{ position: [0, 0, 4.5], fov: 50, near: 0.1, far: 100 }}\n        onCreated={({ gl, events }) => {\n          gl.setClearColor('white')\n          gl.toneMappingExposure = 2.5\n          gl.toneMappingWhitePoint = 1\n          // Export canvas events, we will put them onto the scroll area\n          setEvents(events)\n        }}>\n        <Block factor={1.5} offset={0}>\n          <Shapes />\n          <HtmlContent portal={domContent}>\n            <div className=\"menu left\" style={{ top: '2.55rem' }}>\n              <h2 style={{ fontSize: '2em', top: '4rem' }}>buerli.</h2>\n            </div>\n            <div className=\"menu right\">\n              <span>Login</span>\n              <span>Sign up</span>\n            </div>\n            <div className=\"jumbo\">\n              <h1>\n                browser\n                <br />\n                based\n                <br />\n                modeling.\n              </h1>\n            </div>\n          </HtmlContent>\n        </Block>\n\n        <Block factor={1.5} offset={1}>\n          <Box />\n          <HTML center portal={domContent}>\n            <h2>section 1</h2>\n          </HTML>\n        </Block>\n\n        <Block factor={1.5} offset={2}>\n          <Box />\n          <HTML center portal={domContent}>\n            <h2>section 2</h2>\n          </HTML>\n        </Block>\n\n        <Block factor={-2} offset={4}>\n          <Box scale={[2, 2, 2]} />\n          <HTML center portal={domContent}>\n            <h2>section 3</h2>\n          </HTML>\n        </Block>\n      </Canvas>\n\n      <div className=\"scrollArea\" ref={scrollArea} onScroll={onScroll} {...events}>\n        <div style={{ position: 'sticky', top: 0 }} ref={domContent} />\n        <div style={{ height: `${state.pages * 100}vh` }} />\n      </div>\n    </>\n  )\n}\n\nrender(<App />, document.querySelector('#root'))\n"]},"metadata":{},"sourceType":"module"}