{"ast":null,"code":"import { ShaderMaterial, Color } from 'three';\nimport { extend } from 'react-three-fiber';\n\nclass CustomMaterial extends ShaderMaterial {\n  constructor() {\n    super({\n      uniforms: {\n        texture: {\n          value: null\n        },\n        hasTexture: {\n          value: 0\n        },\n        scale: {\n          value: 0\n        },\n        shift: {\n          value: 0\n        },\n        opacity: {\n          value: 1\n        },\n        color: {\n          value: new Color('white')\n        }\n      },\n      vertexShader: \"\\n        uniform float scale;\\n        uniform float shift;\\n        varying vec2 vUv;\\n        void main() {\\n          vec3 pos = position;\\n          pos.y = pos.y + ((sin(uv.x * 3.1415926535897932384626433832795) * shift * 5.0) * 0.125);\\n          vUv = uv;\\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\\n        }\",\n      fragmentShader: \"\\n        uniform sampler2D texture;\\n        uniform float hasTexture;\\n        uniform float shift;\\n        uniform float scale;\\n        uniform vec3 color;\\n        uniform float opacity;\\n        varying vec2 vUv;\\n        void main() {\\n          float angle = 1.55;\\n          vec2 p = (vUv - vec2(0.5, 0.5)) * (1.0 - scale) + vec2(0.5, 0.5);\\n          vec2 offset = shift / 4.0 * vec2(cos(angle), sin(angle));\\n          vec4 cr = texture2D(texture, p + offset);\\n          vec4 cga = texture2D(texture, p);\\n          vec4 cb = texture2D(texture, p - offset);\\n          if (hasTexture == 1.0) gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\\n          else gl_FragColor = vec4(color, opacity);\\n        }\"\n    });\n  }\n\n  set scale(value) {\n    this.uniforms.scale.value = value;\n  }\n\n  get scale() {\n    return this.uniforms.scale.value;\n  }\n\n  set shift(value) {\n    this.uniforms.shift.value = value;\n  }\n\n  get shift() {\n    return this.uniforms.shift.value;\n  }\n\n  set map(value) {\n    this.uniforms.hasTexture.value = !!value;\n    this.uniforms.texture.value = value;\n  }\n\n  get map() {\n    return this.uniforms.texture.value;\n  }\n\n  get color() {\n    return this.uniforms.color.value;\n  }\n\n  get opacity() {\n    return this.uniforms.opacity.value;\n  }\n\n  set opacity(value) {\n    if (this.uniforms) this.uniforms.opacity.value = value;\n  }\n\n}\n\nextend({\n  CustomMaterial\n});","map":{"version":3,"sources":["/Users/lairdkruger/Documents/Web Development/React Experiments/r3f-scroll-rig/src/components/media/materials/ImageMaterial.js"],"names":["ShaderMaterial","Color","extend","CustomMaterial","constructor","uniforms","texture","value","hasTexture","scale","shift","opacity","color","vertexShader","fragmentShader","map"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,KAAzB,QAAsC,OAAtC;AACA,SAASC,MAAT,QAAuB,mBAAvB;;AAEA,MAAMC,cAAN,SAA6BH,cAA7B,CAA4C;AAC1CI,EAAAA,WAAW,GAAG;AACZ,UAAM;AACJC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SADD;AAERC,QAAAA,UAAU,EAAE;AAAED,UAAAA,KAAK,EAAE;AAAT,SAFJ;AAGRE,QAAAA,KAAK,EAAE;AAAEF,UAAAA,KAAK,EAAE;AAAT,SAHC;AAIRG,QAAAA,KAAK,EAAE;AAAEH,UAAAA,KAAK,EAAE;AAAT,SAJC;AAKRI,QAAAA,OAAO,EAAE;AAAEJ,UAAAA,KAAK,EAAE;AAAT,SALD;AAMRK,QAAAA,KAAK,EAAE;AAAEL,UAAAA,KAAK,EAAE,IAAIN,KAAJ,CAAU,OAAV;AAAT;AANC,OADN;AAUJY,MAAAA,YAAY,kWAVR;AAqBJC,MAAAA,cAAc;AArBV,KAAN;AAwCD;;AAED,MAAIL,KAAJ,CAAUF,KAAV,EAAiB;AACf,SAAKF,QAAL,CAAcI,KAAd,CAAoBF,KAApB,GAA4BA,KAA5B;AACD;;AAED,MAAIE,KAAJ,GAAY;AACV,WAAO,KAAKJ,QAAL,CAAcI,KAAd,CAAoBF,KAA3B;AACD;;AAED,MAAIG,KAAJ,CAAUH,KAAV,EAAiB;AACf,SAAKF,QAAL,CAAcK,KAAd,CAAoBH,KAApB,GAA4BA,KAA5B;AACD;;AAED,MAAIG,KAAJ,GAAY;AACV,WAAO,KAAKL,QAAL,CAAcK,KAAd,CAAoBH,KAA3B;AACD;;AAED,MAAIQ,GAAJ,CAAQR,KAAR,EAAe;AACb,SAAKF,QAAL,CAAcG,UAAd,CAAyBD,KAAzB,GAAiC,CAAC,CAACA,KAAnC;AACA,SAAKF,QAAL,CAAcC,OAAd,CAAsBC,KAAtB,GAA8BA,KAA9B;AACD;;AAED,MAAIQ,GAAJ,GAAU;AACR,WAAO,KAAKV,QAAL,CAAcC,OAAd,CAAsBC,KAA7B;AACD;;AAED,MAAIK,KAAJ,GAAY;AACV,WAAO,KAAKP,QAAL,CAAcO,KAAd,CAAoBL,KAA3B;AACD;;AAED,MAAII,OAAJ,GAAc;AACZ,WAAO,KAAKN,QAAL,CAAcM,OAAd,CAAsBJ,KAA7B;AACD;;AAED,MAAII,OAAJ,CAAYJ,KAAZ,EAAmB;AACjB,QAAI,KAAKF,QAAT,EAAmB,KAAKA,QAAL,CAAcM,OAAd,CAAsBJ,KAAtB,GAA8BA,KAA9B;AACpB;;AA/EyC;;AAkF5CL,MAAM,CAAC;AAAEC,EAAAA;AAAF,CAAD,CAAN","sourcesContent":["import { ShaderMaterial, Color } from 'three'\nimport { extend } from 'react-three-fiber'\n\nclass CustomMaterial extends ShaderMaterial {\n  constructor() {\n    super({\n      uniforms: {\n        texture: { value: null },\n        hasTexture: { value: 0 },\n        scale: { value: 0 },\n        shift: { value: 0 },\n        opacity: { value: 1 },\n        color: { value: new Color('white') }\n      },\n\n      vertexShader: `\n        uniform float scale;\n        uniform float shift;\n        varying vec2 vUv;\n        void main() {\n          vec3 pos = position;\n          pos.y = pos.y + ((sin(uv.x * 3.1415926535897932384626433832795) * shift * 5.0) * 0.125);\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\n        }`,\n\n      fragmentShader: `\n        uniform sampler2D texture;\n        uniform float hasTexture;\n        uniform float shift;\n        uniform float scale;\n        uniform vec3 color;\n        uniform float opacity;\n        varying vec2 vUv;\n        void main() {\n          float angle = 1.55;\n          vec2 p = (vUv - vec2(0.5, 0.5)) * (1.0 - scale) + vec2(0.5, 0.5);\n          vec2 offset = shift / 4.0 * vec2(cos(angle), sin(angle));\n          vec4 cr = texture2D(texture, p + offset);\n          vec4 cga = texture2D(texture, p);\n          vec4 cb = texture2D(texture, p - offset);\n          if (hasTexture == 1.0) gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\n          else gl_FragColor = vec4(color, opacity);\n        }`\n    })\n  }\n\n  set scale(value) {\n    this.uniforms.scale.value = value\n  }\n\n  get scale() {\n    return this.uniforms.scale.value\n  }\n\n  set shift(value) {\n    this.uniforms.shift.value = value\n  }\n\n  get shift() {\n    return this.uniforms.shift.value\n  }\n\n  set map(value) {\n    this.uniforms.hasTexture.value = !!value\n    this.uniforms.texture.value = value\n  }\n\n  get map() {\n    return this.uniforms.texture.value\n  }\n\n  get color() {\n    return this.uniforms.color.value\n  }\n\n  get opacity() {\n    return this.uniforms.opacity.value\n  }\n\n  set opacity(value) {\n    if (this.uniforms) this.uniforms.opacity.value = value\n  }\n}\n\nextend({ CustomMaterial })\n"]},"metadata":{},"sourceType":"module"}