{"ast":null,"code":"import _objectWithoutProperties from \"/Users/lairdkruger/Documents/Web Development/React Experiments/r3f-scroll-rig/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/lairdkruger/Documents/Web Development/React Experiments/r3f-scroll-rig/src/components/media/ImagePlane.js\";\nimport React, { useRef } from 'react';\nimport * as THREE from 'three';\nimport './materials/ImageMaterial';\nimport { useLoader } from 'react-three-fiber'; // A 3D plane representing an HTML image element with CSS positioning\n\nfunction ImagePlane(_ref) {\n  let _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'white' : _ref$color,\n      src = _ref.src,\n      props = _objectWithoutProperties(_ref, [\"color\", \"src\"]);\n\n  const material = useRef();\n  const texture = useLoader(THREE.TextureLoader, src);\n  useEffect(() => {\n    axios.get('https://gist.githubusercontent.com/witalewski/fc8f043d53a0d505f84c5ddb04ae76ea/raw/7c505bbc1675a0bc8a067f8b633b531c769bb64c/data.json').then(({\n      data\n    }) => {\n      setTodos(data);\n      setNextTodoId(data.length);\n    });\n  }, []);\n  const image = document.getElementsByClassName('image-plane')[0];\n  console.log(document.getElementsByClassName('image-plane')[0]);\n  const imageTexture = useLoader(THREE.TextureLoader, image.src);\n  const sizes = new THREE.Vector2(0, 0);\n  const offset = new THREE.Vector2(0, 0);\n\n  const _image$getBoundingCli = image.getBoundingClientRect(),\n        width = _image$getBoundingCli.width,\n        height = _image$getBoundingCli.height,\n        top = _image$getBoundingCli.top,\n        left = _image$getBoundingCli.left;\n\n  sizes.set(width, height);\n  offset.set(left - window.innerWidth / 2 + width / 2, -top + window.innerHeight / 2 - height / 2);\n  return /*#__PURE__*/React.createElement(\"mesh\", Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"planeBufferGeometry\", {\n    attach: \"geometry\",\n    args: [1, 1, 32, 32],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"customMaterial\", {\n    ref: material,\n    attach: \"material\",\n    color: color,\n    map: imageTexture,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default ImagePlane;","map":{"version":3,"sources":["/Users/lairdkruger/Documents/Web Development/React Experiments/r3f-scroll-rig/src/components/media/ImagePlane.js"],"names":["React","useRef","THREE","useLoader","ImagePlane","color","src","props","material","texture","TextureLoader","useEffect","axios","get","then","data","setTodos","setNextTodoId","length","image","document","getElementsByClassName","console","log","imageTexture","sizes","Vector2","offset","getBoundingClientRect","width","height","top","left","set","window","innerWidth","innerHeight"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAO,2BAAP;AACA,SAASC,SAAT,QAA0B,mBAA1B,C,CAEA;;AAEA,SAASC,UAAT,OAAwD;AAAA,wBAAlCC,KAAkC;AAAA,MAAlCA,KAAkC,2BAA1B,OAA0B;AAAA,MAAjBC,GAAiB,QAAjBA,GAAiB;AAAA,MAATC,KAAS;;AACtD,QAAMC,QAAQ,GAAGP,MAAM,EAAvB;AACA,QAAMQ,OAAO,GAAGN,SAAS,CAACD,KAAK,CAACQ,aAAP,EAAsBJ,GAAtB,CAAzB;AAEAK,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CACFC,GADH,CAEI,uIAFJ,EAIGC,IAJH,CAIQ,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AAClBC,MAAAA,QAAQ,CAACD,IAAD,CAAR;AACAE,MAAAA,aAAa,CAACF,IAAI,CAACG,MAAN,CAAb;AACD,KAPH;AAQD,GATQ,EASN,EATM,CAAT;AAWA,QAAMC,KAAK,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,aAAhC,EAA+C,CAA/C,CAAd;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,sBAAT,CAAgC,aAAhC,EAA+C,CAA/C,CAAZ;AAEA,QAAMG,YAAY,GAAGrB,SAAS,CAACD,KAAK,CAACQ,aAAP,EAAsBS,KAAK,CAACb,GAA5B,CAA9B;AACA,QAAMmB,KAAK,GAAG,IAAIvB,KAAK,CAACwB,OAAV,CAAkB,CAAlB,EAAqB,CAArB,CAAd;AACA,QAAMC,MAAM,GAAG,IAAIzB,KAAK,CAACwB,OAAV,CAAkB,CAAlB,EAAqB,CAArB,CAAf;;AApBsD,gCAsBjBP,KAAK,CAACS,qBAAN,EAtBiB;AAAA,QAsB9CC,KAtB8C,yBAsB9CA,KAtB8C;AAAA,QAsBvCC,MAtBuC,yBAsBvCA,MAtBuC;AAAA,QAsB/BC,GAtB+B,yBAsB/BA,GAtB+B;AAAA,QAsB1BC,IAtB0B,yBAsB1BA,IAtB0B;;AAwBtDP,EAAAA,KAAK,CAACQ,GAAN,CAAUJ,KAAV,EAAiBC,MAAjB;AACAH,EAAAA,MAAM,CAACM,GAAP,CAAWD,IAAI,GAAGE,MAAM,CAACC,UAAP,GAAoB,CAA3B,GAA+BN,KAAK,GAAG,CAAlD,EAAqD,CAACE,GAAD,GAAOG,MAAM,CAACE,WAAP,GAAqB,CAA5B,GAAgCN,MAAM,GAAG,CAA9F;AAEA,sBACE,8CAAUvB,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE;AAAqB,IAAA,MAAM,EAAC,UAA5B;AAAuC,IAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,EAAW,EAAX,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAgB,IAAA,GAAG,EAAEC,QAArB;AAA+B,IAAA,MAAM,EAAC,UAAtC;AAAiD,IAAA,KAAK,EAAEH,KAAxD;AAA+D,IAAA,GAAG,EAAEmB,YAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAMD;;AAED,eAAepB,UAAf","sourcesContent":["import React, { useRef } from 'react'\nimport * as THREE from 'three'\nimport './materials/ImageMaterial'\nimport { useLoader } from 'react-three-fiber'\n\n// A 3D plane representing an HTML image element with CSS positioning\n\nfunction ImagePlane({ color = 'white', src, ...props }) {\n  const material = useRef()\n  const texture = useLoader(THREE.TextureLoader, src)\n\n  useEffect(() => {\n    axios\n      .get(\n        'https://gist.githubusercontent.com/witalewski/fc8f043d53a0d505f84c5ddb04ae76ea/raw/7c505bbc1675a0bc8a067f8b633b531c769bb64c/data.json'\n      )\n      .then(({ data }) => {\n        setTodos(data)\n        setNextTodoId(data.length)\n      })\n  }, [])\n\n  const image = document.getElementsByClassName('image-plane')[0]\n  console.log(document.getElementsByClassName('image-plane')[0])\n\n  const imageTexture = useLoader(THREE.TextureLoader, image.src)\n  const sizes = new THREE.Vector2(0, 0)\n  const offset = new THREE.Vector2(0, 0)\n\n  const { width, height, top, left } = image.getBoundingClientRect()\n\n  sizes.set(width, height)\n  offset.set(left - window.innerWidth / 2 + width / 2, -top + window.innerHeight / 2 - height / 2)\n\n  return (\n    <mesh {...props}>\n      <planeBufferGeometry attach=\"geometry\" args={[1, 1, 32, 32]} />\n      <customMaterial ref={material} attach=\"material\" color={color} map={imageTexture} />\n    </mesh>\n  )\n}\n\nexport default ImagePlane\n"]},"metadata":{},"sourceType":"module"}